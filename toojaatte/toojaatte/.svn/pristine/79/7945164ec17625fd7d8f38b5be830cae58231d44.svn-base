package com.toojaatte.news.service;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.inject.Inject;

import org.apache.ibatis.annotations.Param;
import org.springframework.stereotype.Service;

import com.toojaatte.news.dto.News_repDTO;
import com.toojaatte.news.dto.News_rep_likeDTO;
import com.toojaatte.news.mapper.NewsCommentMapper;
import com.toojaatte.util.page.PageObject;

@Service
public class NewsCommentService {

	@Inject
	private NewsCommentMapper mapper;
	
	public List<News_repDTO> nCommentList(int nno, PageObject pageObject) {
		
		//넘어온 페이지의 첫번쨰글번호, 마지막글번호 만들어서 mapper에 전달
		pageObject.calcuPageInfo();
		
		// 전체 데이터의 갯수 구해서 전체 페이지 구하기.
		pageObject.setTotalRow(mapper.getTotalRow(nno, pageObject));
		
		//mapper에 맵으로 넘기기
		Map<String, Object> map = new HashMap<String, Object>();
		map.put("nno", nno);
		map.put("pageObject", pageObject);
		List<News_repDTO> dto = mapper.nCommentList(map);
		
		return dto;
	}

	//내가 좋아한 댓글들
	public Object myLikeList(int nno, String id) {

		List<News_rep_likeDTO> dto = mapper.myLikeList(nno, id);
		return dto;
	}

	public int commentInsert(News_repDTO dto) {
		return mapper.commentInsert(dto);
	}

	public int commentUpdate(News_repDTO dto) {
		// TODO Auto-generated method stub
		return mapper.commentUpdate(dto);
	}

	public int commentDelete(int rno) {
		// TODO Auto-generated method stub
		return mapper.commentDelete(rno);
	}

}
